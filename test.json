$ curl -X GET "http://101.50.2.61:3000/api/v1/chatmessage/d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a?sessionId=a320b067-4e9a-44f9-b1d9-19478c69f9b0" \
-H "Authorization: Bearer fYl5_hXOU342c7cfjJP_XpTNmnfzgH9VcWI39YdFEFI" \
-H "Content-Type: application/json"[
  {
    "id": "8bba0586-0a37-4eb6-beed-4a3f997ca0ba",
    "role": "userMessage",
    "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
    "executionId": "fd86cc2e-5e8d-4b09-ba3f-42ef0ef765f9",
    "content": "hallo",
    "sourceDocuments": null,
    "usedTools": null,
    "fileAnnotations": null,
    "agentReasoning": null,
    "fileUploads": null,
    "artifacts": null,
    "action": null,
    "chatType": "EXTERNAL",
    "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
    "memoryType": null,
    "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
    "createdDate": "2025-10-02T09:54:06.415Z",
    "leadEmail": null,
    "followUpPrompts": null,
    "execution": {
      "id": "fd86cc2e-5e8d-4b09-ba3f-42ef0ef765f9",
      "executionData":"[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"hallo\"},\"output\":{\"question\":\"hallo\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"timeMetadata\":{\"start\":1759398846552,\"end\":1759398847756,\"delta\":1204},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":120,\"output_tokens\":44,\"total_tokens\":164,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nHuman: Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut! supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"reasoning\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759398847794,\"end\":1759398849262,\"delta\":1468},\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n
  <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": hallo, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759398849275,\"end\":1759398850236,\"delta\":961}},\"state\":{\"Escalation\":\"\",\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"timeMetadata\":{\"start\":1759398850250,\"end\":1759398851172,\"delta\":922},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":427,\"output_tokens\":22,\"total_tokens\":449,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":427,\"completion_tokens\":22,\"total_tokens\":449,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-02T09:54:06.000Z",
        "updatedDate": "2025-10-02T09:54:11.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "2bc6bf00-05dd-406b-b341-741a7cc80c34",
      "role": "apiMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "fd86cc2e-5e8d-4b09-ba3f-42ef0ef765f9",
      "content": "Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-02T09:54:11.262Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "fd86cc2e-5e8d-4b09-ba3f-42ef0ef765f9",
        "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"hallo\"},\"output\":{\"question\":\"hallo\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"timeMetadata\":{\"start\":1759398846552,\"end\":1759398847756,\"delta\":1204},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":120,\"output_tokens\":44,\"total_tokens\":164,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nHuman: Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut! supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"reasoning\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759398847794,\"end\":1759398849262,\"delta\":1468},\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": hallo, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759398849275,\"end\":1759398850236,\"delta\":961}},\"state\":{\"Escalation\":\"\",\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Halo! Saat ini, saya tidak memiliki percakapan sebelumnya untuk diringkas. Namun, saya siap membantu jika Anda memiliki pertanyaan atau topik tertentu yang ingin dibahas. Silakan beri tahu saya lebih lanjut!\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"timeMetadata\":{\"start\":1759398850250,\"end\":1759398851172,\"delta\":922},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":427,\"output_tokens\":22,\"total_tokens\":449,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":427,\"completion_tokens\":22,\"total_tokens\":449,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-02T09:54:06.000Z",
        "updatedDate": "2025-10-02T09:54:11.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "ac0326cf-ba1a-403b-b9da-09b989ee8e31",
      "role": "userMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "952cf77b-ff8e-4275-aa38-f067169e4f41",
      "content": "hallo",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-02T09:55:28.084Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "952cf77b-ff8e-4275-aa38-f067169e4f41",
        "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"hallo\"},\"output\":{\"question\":\"hallo\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"timeMetadata\":{\"start\":1759398928201,\"end\":1759398929948,\"delta\":1747},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":152,\"output_tokens\":55,\"total_tokens\":207,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nHuman: Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"reasoning\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"User baru pertama kali menyapa/memulai percakapan.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759398929984,\"end\":1759398931459,\"delta\":1475},\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User baru pertama kali menyapa/memulai percakapan.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": hallo, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759398931479,\"end\":1759398932467,\"delta\":988}},\"state\":{\"Escalation\":\"\",\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User baru pertama kali menyapa/memulai percakapan.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"timeMetadata\":{\"start\":1759398932481,\"end\":1759398933390,\"delta\":909},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":452,\"output_tokens\":22,\"total_tokens\":474,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":452,\"completion_tokens\":22,\"total_tokens\":474,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-02T09:55:28.000Z",
        "updatedDate": "2025-10-02T09:55:33.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "17e2dd2b-73ea-4ad8-8f30-9bcfa6d3f270",
      "role": "apiMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "952cf77b-ff8e-4275-aa38-f067169e4f41",
      "content": "Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-02T09:55:33.531Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "952cf77b-ff8e-4275-aa38-f067169e4f41",
        "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"hallo\"},\"output\":{\"question\":\"hallo\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"timeMetadata\":{\"start\":1759398928201,\"end\":1759398929948,\"delta\":1747},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":152,\"output_tokens\":55,\"total_tokens\":207,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nHuman: Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"reasoning\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"User baru pertama kali menyapa/memulai percakapan.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759398929984,\"end\":1759398931459,\"delta\":1475},\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User baru pertama kali menyapa/memulai percakapan.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": hallo, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759398931479,\"end\":1759398932467,\"delta\":988}},\"state\":{\"Escalation\":\"\",\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"user\",\"content\":\"Sepertinya kamu ingin saya mengingat percakapan sebelumnya dan merangkum inti dari percakapan tersebut. Namun, saya belum memiliki konteks percakapan sebelumnya. Bisakah kamu memberikan lebih banyak informasi atau konteks agar saya bisa membantumu dengan lebih baik?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User baru pertama kali menyapa/memulai percakapan.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"timeMetadata\":{\"start\":1759398932481,\"end\":1759398933390,\"delta\":909},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":452,\"output_tokens\":22,\"total_tokens\":474,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":452,\"completion_tokens\":22,\"total_tokens\":474,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"User baru pertama kali menyapa/memulai percakapan.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-02T09:55:28.000Z",
        "updatedDate": "2025-10-02T09:55:33.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "40020182-a27c-4627-99c4-5ba490106978",
      "role": "userMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "199d4f29-5eb5-4b2d-a0f7-f1b2d4a30eca",
      "content": "tadi saya bilang apa ?",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-02T09:56:55.255Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "199d4f29-5eb5-4b2d-a0f7-f1b2d4a30eca",
        "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"tadi saya bilang apa ?\"},\"output\":{\"question\":\"tadi saya bilang apa ?\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"timeMetadata\":{\"start\":1759399015367,\"end\":1759399016778,\"delta\":1411},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":188,\"output_tokens\":45,\"total_tokens\":233,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: tadi saya bilang apa ?\\nHuman: Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"reasoning\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"User ingin mengetahui percakapan sebelumnya.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759399016816,\"end\":1759399019340,\"delta\":2524},\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User ingin mengetahui percakapan sebelumnya.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": tadi saya bilang apa ?, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759399019351,\"end\":1759399020117,\"delta\":766}},\"state\":{\"Escalation\":\"\",\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User ingin mengetahui percakapan sebelumnya.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\",\"timeMetadata\":{\"start\":1759399020129,\"end\":1759399021503,\"delta\":1374},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":473,\"output_tokens\":42,\"total_tokens\":515,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":473,\"completion_tokens\":42,\"total_tokens\":515,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-02T09:56:55.000Z",
        "updatedDate": "2025-10-02T09:57:01.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "85b1751c-0c04-4eaf-b04b-d0cb13942d6e",
      "role": "apiMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "199d4f29-5eb5-4b2d-a0f7-f1b2d4a30eca",
      "content": "Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-02T09:57:01.634Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "199d4f29-5eb5-4b2d-a0f7-f1b2d4a30eca",
        "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"tadi saya bilang apa ?\"},\"output\":{\"question\":\"tadi saya bilang apa ?\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"timeMetadata\":{\"start\":1759399015367,\"end\":1759399016778,\"delta\":1411},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":188,\"output_tokens\":45,\"total_tokens\":233,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: tadi saya bilang apa ?\\nHuman: Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"reasoning\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"User ingin mengetahui percakapan sebelumnya.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759399016816,\"end\":1759399019340,\"delta\":2524},\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User ingin mengetahui percakapan sebelumnya.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": tadi saya bilang apa ?, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759399019351,\"end\":1759399020117,\"delta\":766}},\"state\":{\"Escalation\":\"\",\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"user\",\"content\":\"Anda menyebutkan mengenai pentingnya mengingat semua percakapan dan meringkasnya untuk menemukan inti dan maksud dari customer. Apakah ada yang ingin Anda tanyakan lebih lanjut atau butuh bantuan dengan hal tertentu?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"User ingin mengetahui percakapan sebelumnya.\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\",\"timeMetadata\":{\"start\":1759399020129,\"end\":1759399021503,\"delta\":1374},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":473,\"output_tokens\":42,\"total_tokens\":515,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":473,\"completion_tokens\":42,\"total_tokens\":515,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"User ingin mengetahui percakapan sebelumnya.\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-02T09:56:55.000Z",
        "updatedDate": "2025-10-02T09:57:01.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "852f5242-51f1-46b7-9075-ed9a9492c71f",
      "role": "userMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "7b47e87b-9f75-4599-bb67-c99ebeebbd08",
      "content": "hallo saya andi",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-03T02:18:46.754Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "7b47e87b-9f75-4599-bb67-c99ebeebbd08",
        "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"hallo saya andi\"},\"output\":{\"question\":\"hallo saya andi\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"timeMetadata\":{\"start\":1759457929929,\"end\":1759457931518,\"delta\":1589},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":243,\"output_tokens\":25,\"total_tokens\":268,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: tadi saya bilang apa ?\\nAssistant: Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\\nHuman: hallo saya andi\\nHuman: Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759457931583,\"end\":1759457934648,\"delta\":3065},\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": hallo saya andi, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759457934669,\"end\":1759457936578,\"delta\":1909}},\"state\":{\"Escalation\":\"\",\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"timeMetadata\":{\"start\":1759457936589,\"end\":1759457938820,\"delta\":2231},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":525,\"output_tokens\":24,\"total_tokens\":549,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":525,\"completion_tokens\":24,\"total_tokens\":549,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-03T02:18:49.000Z",
        "updatedDate": "2025-10-03T02:18:58.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "f4edc1b0-63b4-4162-9244-00336348a525",
      "role": "apiMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "7b47e87b-9f75-4599-bb67-c99ebeebbd08",
      "content": "Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-03T02:18:58.986Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "7b47e87b-9f75-4599-bb67-c99ebeebbd08",
        "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"hallo saya andi\"},\"output\":{\"question\":\"hallo saya andi\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"timeMetadata\":{\"start\":1759457929929,\"end\":1759457931518,\"delta\":1589},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":243,\"output_tokens\":25,\"total_tokens\":268,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: tadi saya bilang apa ?\\nAssistant: Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\\nHuman: hallo saya andi\\nHuman: Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759457931583,\"end\":1759457934648,\"delta\":3065},\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": hallo saya andi, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":true},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":false},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"General        : Sapaan, Salam pembuka, Salam penutup\\\"}\\n```\",\"timeMetadata\":{\"start\":1759457934669,\"end\":1759457936578,\"delta\":1909}},\"state\":{\"Escalation\":\"\",\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_3\",\"nodeLabel\":\"General\",\"data\":{\"id\":\"agentAgentflow_3\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer service\\n================\\n\\n1.  Jika customer menyapa dengan kata-kata seperti \\\"halo\\\", \\\"permisi\\\", \\\"pagi\\\", \\\"siang\\\", \\\"sore\\\", atau \\\"malam\\\", balas dibawah ini, jika tidak jangan balas pesan dibawah:\\n    \\n    \\\"(jawab sapaan), terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\\"\\n    \\n    Jika customer mengakhiri percakapan, dengan kata-kata seperti \\\"Baik, terima kasih\\\", konfirmasi apakah masih memerlukan bantuan? Tunggu jawaban dari customer. Jika tidak memerlukan bantuan lagi, ucapkan terima kasih, sampaikan dapat menghubungi kapan pun jika membutuhkan, dan minta berikan rating percakapan, akhiri kalimat dengan emoji senyuman ramah.\\n    \\n    Jika customer menyebutkan nama negara tanpa kejelasan produk apa yang diinginkan tanyakan apa yang diperlukan apakah esim, sim card, atau asuransi perjalanan.\\n    \\n    Jawab dengan bahasa yang sopan dan gunakan bahasa sesuai yang digunakan customer. Balasan pertama awali dengan Sapaan.  \\n      \\n    Jangan ucapkan terima kasih telah memberikan ringkasan percakapan pada customer karena memberikan ringkasan percakapan bukan tugas customer.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"user\",\"content\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}],\"agentModel\":\"chatOpenAI\",\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"timeMetadata\":{\"start\":1759457936589,\"end\":1759457938820,\"delta\":2231},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":525,\"output_tokens\":24,\"total_tokens\":549,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":525,\"completion_tokens\":24,\"total_tokens\":549,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"}},\"state\":{\"Escalation\":\"\",\"General\":\"Anda memperkenalkan diri sebagai Andi. Apakah ada yang ingin Anda diskusikan atau butuh bantuan lebih lanjut?\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\",\"name\":\"general\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"}]",
        "state": "FINISHED",
        "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "action": null,
        "isPublic": null,
        "createdDate": "2025-10-03T02:18:49.000Z",
        "updatedDate": "2025-10-03T02:18:58.000Z",
        "stoppedDate": null,
        "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
      }
    },
    {
      "id": "85ffaa02-c9b5-425f-97c0-8883c3480857",
      "role": "userMessage",
      "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
      "executionId": "0721045f-8bde-42f5-b67f-b0ce512031e0",
      "content": "esim saya ga bisa digunakan nih",
      "sourceDocuments": null,
      "usedTools": null,
      "fileAnnotations": null,
      "agentReasoning": null,
      "fileUploads": null,
      "artifacts": null,
      "action": null,
      "chatType": "EXTERNAL",
      "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "memoryType": null,
      "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
      "createdDate": "2025-10-03T02:20:05.552Z",
      "leadEmail": null,
      "followUpPrompts": null,
      "execution": {
        "id": "0721045f-8bde-42f5-b67f-b0ce512031e0",
        "executionData":"[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"esim saya ga bisa digunakan nih\"},\"output\":{\"question\":\"esim saya ga bisa digunakan nih\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"timeMetadata\":{\"start\":1759458006620,\"end\":1759458008398,\"delta\":1778},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":282,\"output_tokens\":43,\"total_tokens\":325,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: tadi saya bilang apa ?\\nAssistant: Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\\nHuman: hallo saya andi\\nAssistant: Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: esim saya ga bisa digunakan nih\\nHuman: Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759458008437,\"end\":1759458011462,\"delta\":3025},\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n
<p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": esim saya ga bisa digunakan nih, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":false},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":true},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\"}\\n```\",\"timeMetadata\":{\"start\":1759458011471,\"end\":1759458012859,\"delta\":1388}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_2\",\"nodeLabel\":\"Troubleshooting\",\"data\":{\"id\":\"llmAgentflow_2\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"},{\"role\":\"user\",\"content\":\"Supervisor troubleshooting\\n==========================\\n\\nKlasifikasikan\\n\\n1.  jika customer memilik keluhan tentang esim dan simcard maka kamu masukan ke troubleshooting\\n    \\n\\n2.  jika customer sudah memberikan nomor iccid maka kamu estrak nomornya masukan ke cek iccid\\n    \\n3.  jika informasi dari cek iccid sudah ada maka kamu masukan ke troubleshooting\\n    \\n\\nTugas kamu hanya mengklasifikasikan tidak diperbolehkan untuk memberikan informasi lebih apalagi menjawab.\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"Supervisor troubleshooting\\n==========================\\n\\nKlasifikasikan\\n\\n1.  jika customer memilik keluhan tentang esim dan simcard maka kamu masukan ke troubleshooting\\n    \\n\\n2.  jika customer sudah memberikan nomor iccid maka kamu estrak nomornya masukan ke cek iccid\\n    \\n3.  jika informasi dari cek iccid sudah ada maka kamu masukan ke troubleshooting\\n    \\n\\nTugas kamu hanya mengklasifikasikan tidak diperbolehkan untuk memberikan informasi lebih apalagi menjawab.\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"keluhan customer tentang esim dan simcard yang tidak jalan dan tidak bisa di pake\"},{\"key\":\"iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Nomor ICCID hasil ekstraksi\"}],\"llmUpdateState\":[{\"key\":\"Troubleshooting\",\"value\":\"{{ output.troubleshooting }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.iccid }}\"},{\"key\":\"\",\"value\":\"\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"500\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"iccid\\\": 0\\n}\",\"timeMetadata\":{\"start\":1759458012874,\"end\":1759458014317,\"delta\":1443},\"troubleshooting\":\"esim saya ga bisa digunakan nih\",\"iccid\":0},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":0,\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\",\"\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"iccid\\\": 0\\n}\",\"name\":\"troubleshooting\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_1\",\"nodeLabel\":\"Codition Troubleshooting\",\"data\":{\"id\":\"conditionAgentAgentflow_1\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": esim saya ga bisa digunakan nih, \\\"scenarios\\\": [\\\"troubleshoting, kendala esim dan simcard informasi dari hasil cek iccid , data usage dan  kuota\\\",\\\"cek iccid . nomor iccid sudah ada  mengecek iccid yang diberikan oleh customer sebelum masuk ke troubleshooting\\\",\\\"next, mendapatkan informasi penggunaan data usage dan kuota\\\"], \\\"instruction\\\": }\"}]},\"output\":{\"conditions\":[{\"output\":\"troubleshoting, kendala esim dan simcard informasi dari hasil cek iccid , data usage dan  kuota\",\"isFulfilled\":true},{\"output\":\"cek iccid . nomor iccid sudah ada  mengecek iccid yang diberikan oleh customer sebelum masuk ke troubleshooting\",\"isFulfilled\":false},{\"output\":\"next, mendapatkan informasi penggunaan data usage dan kuota\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"troubleshoting, kendala esim dan simcard informasi dari hasil cek iccid , data usage dan  kuota\\\"}\\n```\",\"timeMetadata\":{\"start\":1759458014327,\"end\":1759458015398,\"delta\":1071}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":0,\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\",\"\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_2\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_5\",\"nodeLabel\":\"Solution Troubleshooting\",\"data\":{\"id\":\"agentAgentflow_5\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer Service troubleshooting\\n================================\\n\\nUtamakan menunjukan rasa empati. Jika customer mengalami masalah dan kendala pada eSIM atau SIM cardnya, langkah yang harus kamu ambil adalah.\\n\\n1\\\\. Identifikasi Produk: Produk apa yang tamu beli? dan tanyakan mengenai ICCID dan nomer pesanannya.\\n\\n2\\\\. Identifikasi masalah: Masalah apa yang dikeluhkan oleh tamu?\\n\\nGunakan document store sebagai sumber pengetahuan.\\n\\nSetelah customer memberikan informasi diatas dan sudah di cek dan ditemukan status ICCID active, berikan template troubleshooting basic dibawah ini, jangan berikan template ini sampai mendapatkan status ICCID active:\\n\\nApabila sim card/esim kakak belum terhubung, silahkan ikuti panduan di bawah:\\n\\n1\\\\. Mohon informasikan posisi kakak sekarang ada di negara apa?\\n\\n2\\\\. Apakah device mendapatkan signal? Provider apa yang terhubung saat ini?\\n\\n3\\\\. Pastikan DATA ROAMING ON.\\n\\n4\\\\. Dan pastikan eSIM sudah di setting sebagai mobile data.\\n\\n5\\\\. Sesuaikan APN dengan deskripsi sim card di marketplace (isi bagian cellular data, 4G LTE, dan\\n\\npersonal hotspot).\\n\\n6\\\\. Setelah pengaturan sesuai, restart device.\\n\\nJika esim atau SIM card masih belum bisa terhubung setelah melakukan langkah di atas, WAJIB minta customer untuk mengirim screenshot pengaturan data Roaming dan Pengaturan APN untuk di analisis\\n\\nJika masalahnya adalah eSim tidak bisa di-scan atau tidak bisa ter-install, pastikan device tersambung ke jaringan yang stabil atau wifi saat scan. Jika signal bar terdapat dua berarti esim sudah berhasil terinstall, cek di pengaturan selular atau pengaturan SIM. Jika sudah dicek signal bar hanya satu dan dipastikan eSim belum terinstall minta customer untuk memberi info nomor iccid untuk pengecekan lebih lanjut.\\n\\nCATATAN:\\n\\nJika customer belum mengirim screenshot, selalu ingatkan customer untuk segera mengirimkan screenshot agar tim kami dapat membantu pengecekan lebih lanjut.\\n\\nTanpa screenshot, proses pengecekan tidak dapat dilanjutkan.\\n\\nSelalu ikuti langkah-langkah yang sudah disebutkan.\\n\\nJangan pernah arahkan user untuk menghubungi pihak mana pun.\"},{\"role\":\"user\",\"content\":\"Customer menanyakan mengenai kesulitan, gangguan, kendala, dan hambatan dalam menggunakan produk Global Komunika.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"iccid\\\": 0\\n}\",\"name\":\"troubleshooting\"}],\"agentModel\":\"chatOpenAI\",\"agentKnowledgeDocumentStores\":[{\"documentStore\":\"2c7fd6e8-2dec-4586-8bdb-2a0a7e566a8c:basic_knowladge\",\"docStoreDescription\":\"Berisi pengetahuan dasar mengenai penggunaan produk eSim, Sim card, dan asuransi perjalanan. Gunakan database ini jika customer memerlukan bantuan terkait cara dan tips penggunaan produk, cara emnghadapi kendala saat menggunakan produk, menanyakan pengiriman. Untuk pengiriman berikan detail jadwal pengiriman.\",\"returnSourceDocuments\":\"\"}],\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"500\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Maaf mendengar bahwa eSIM Anda tidak bisa digunakan. Untuk membantu Anda lebih lanjut, bisa tolong berikan informasi berikut?\\n\\n1. Mohon informasikan nomor ICCID eSIM Anda dan nomor pesanan.\\n2. Apa masalah spesifik yang Anda alami? Apakah ada pesan kesalahan yang muncul?\\n\\nSetelah mendapatkan informasi tersebut, saya akan membantu mengecek status eSIM Anda. Terima kasih!\",\"timeMetadata\":{\"start\":1759458015866,\"end\":1759458019089,\"delta\":3223},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":909,\"output_tokens\":83,\"total_tokens\":992,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":909,\"completion_tokens\":83,\"total_tokens\":992,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"},\"availableTools\":[{\"name\":\"basic_knowladge\",\"description\":\"Berisi pengetahuan dasar mengenai penggunaan produk eSim, Sim card, dan asuransi perjalanan. Gunakan database ini jika customer memerlukan bantuan terkait cara dan tips penggunaan produk, cara emnghadapi kendala saat menggunakan produk, menanyakan pengiriman. Untuk pengiriman berikan detail jadwal pengiriman.\",\"schema\":{\"type\":\"object\",\"properties\":{\"input\":{\"type\":\"string\",\"description\":\"input to look up in retriever\"}},\"required\":[\"input\"],\"additionalProperties\":false},\"toolNode\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\"}}]},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":0,\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\",\"\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Maaf mendengar bahwa eSIM Anda tidak bisa digunakan. Untuk membantu Anda lebih lanjut, bisa tolong berikan informasi berikut?\\n\\n1. Mohon informasikan nomor ICCID eSIM Anda dan nomor pesanan.\\n2. Apa masalah spesifik yang Anda alami? Apakah ada pesan kesalahan yang muncul?\\n\\nSetelah mendapatkan informasi tersebut, saya akan membantu mengecek status eSIM Anda. Terima kasih!\",\"name\":\"solution_troubleshooting\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_1\"],\"status\":\"FINISHED\"}]",
          "state": "FINISHED",
          "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
          "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
          "action": null,
          "isPublic": null,
          "createdDate": "2025-10-03T02:20:06.000Z",
          "updatedDate": "2025-10-03T02:20:19.000Z",
          "stoppedDate": null,
          "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
        }
      },
      {
        "id": "6834ad3a-45c0-41e2-98dd-19e4a70f1690",
        "role": "apiMessage",
        "chatflowid": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
        "executionId": "0721045f-8bde-42f5-b67f-b0ce512031e0",
        "content": "Maaf mendengar bahwa eSIM Anda tidak bisa digunakan. Untuk membantu Anda lebih lanjut, bisa tolong berikan informasi berikut?\n\n1. Mohon informasikan nomor ICCID eSIM Anda dan nomor pesanan.\n2. Apa masalah spesifik yang Anda alami? Apakah ada pesan kesalahan yang muncul?\n\nSetelah mendapatkan informasi tersebut, saya akan membantu mengecek status eSIM Anda. Terima kasih!",
        "sourceDocuments": null,
        "usedTools": null,
        "fileAnnotations": null,
        "agentReasoning": null,
        "fileUploads": null,
        "artifacts": null,
        "action": null,
        "chatType": "EXTERNAL",
        "chatId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "memoryType": null,
        "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
        "createdDate": "2025-10-03T02:20:19.306Z",
        "leadEmail": null,
        "followUpPrompts": null,
        "execution": {
          "id": "0721045f-8bde-42f5-b67f-b0ce512031e0",
          "executionData": "[{\"nodeId\":\"startAgentflow_0\",\"nodeLabel\":\"Start\",\"data\":{\"id\":\"startAgentflow_0\",\"name\":\"startAgentflow\",\"input\":{\"question\":\"esim saya ga bisa digunakan nih\"},\"output\":{\"question\":\"esim saya ga bisa digunakan nih\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"}},\"previousNodeIds\":[],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_0\",\"nodeLabel\":\"MEMORY dan Ringkasan\",\"data\":{\"id\":\"llmAgentflow_0\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Memory dan Ringkasan\\n====================\\n\\nTugas kamu adalah mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\\n\\nPrioritas: paham konteks chat sebelumnya, jawab ringkas, minta klarifikasi bila info kurang. Jika konteks tidak ditemukan, ringkas ulang apa yang terakhir kamu ketahui, lalu lanjutkan.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"mengingat semua percakapan dan meringkasnya sehingga menemukan inti dari percakapan dan maksud dari customer\",\"llmReturnResponseAs\":\"userMessage\",\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"timeMetadata\":{\"start\":1759458006620,\"end\":1759458008398,\"delta\":1778},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":282,\"output_tokens\":43,\"total_tokens\":325,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0}}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"}]},\"previousNodeIds\":[\"startAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_3\",\"nodeLabel\":\"SUPERVISOR\",\"data\":{\"id\":\"llmAgentflow_3\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Kamu adalah supervisor asisten virtual Global Komunika.\\n\\nTugasmu hanya menentukan kategori pertanyaan user, bukan menjawab detailnya.\\n\\nPenting untuk membacak Human: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: hallo\\nAssistant: Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: tadi saya bilang apa ?\\nAssistant: Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\\nHuman: hallo saya andi\\nAssistant: Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\\nHuman: esim saya ga bisa digunakan nih\\nHuman: Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini? supaya tidak salah memasukan klasifikasi\\n\\nKategori yang tersedia:\\n\\n1\\\\. General → jika user baru pertama kali menyapa / memulai percakapan, atau ketika user mengucapkan terima kasih dan mengatakan masalah sudah selesai.\\n\\n2\\\\. Produk → jika user ingin membeli SIM/eSIM, menanyakan harga, paket, rekomendasi.\\n\\n3\\\\. Promo → jika user menanyakan diskon, promo, penawaran khusus.\\n\\n4\\\\. BasicKnowledge → jika user menanyakan cara cek APN, cek kuota, cek nomor, cara aktivasi.\\n\\n5\\\\. Troubleshooting → jika user melaporkan kendala SIM/eSIM tidak jalan, tidak ada sinyal, internet tidak aktif,nomor iccid, atau customer hanya mengirimkan nomor iccid untuk di cek masalahya saja dll.\\n\\n6\\\\. Escalation → jika masalah di luar layanan, tidak bisa diselesaikan, atau user minta langsung Admin.\\n\\n7\\\\. analisis_screenshot -> jika menerima hasil analisis gambar dari screnshoot.\\n\\nOutputmu HARUS berupa JSON dengan format berikut:\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"General\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan untuk menyapa user saat pertama kali memulai chat atau menutup percakapan ketika user bilang terima kasih/masalah sudah selesai.\"},{\"key\":\"Produk\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan atau ingin membeli SIM/eSIM, menanyakan harga, paket, kuota, atau rekomendasi produk.\"},{\"key\":\"Promo\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan promo, diskon, voucher, atau penawaran khusus yang sedang berlaku.\"},{\"key\":\"BasicKnowledge\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user menanyakan panduan dasar seperti cara cek APN, cara cek kuota, cek nomor, atau aktivasi eSIM/SIM.\"},{\"key\":\"Troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika user mengalami kendala teknis seperti SIM/eSIM tidak jalan, tidak ada sinyal, internet bermasalah, atau kuota tidak terbaca.\"},{\"key\":\"Escalation\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Digunakan jika masalah di luar layanan standar, tidak bisa diselesaikan oleh sistem, atau jika user meminta langsung dihubungkan ke Admin.\"},{\"key\":\"cek iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil extrasi atau mendeteksi nomor\"},{\"key\":\"analisis_screenshoot\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"hasil analisis gambar screenshoot\"}],\"llmUpdateState\":[{\"key\":\"General\",\"value\":\"{{ output.General }}\"},{\"key\":\"Produk\",\"value\":\"{{ output.Produk }}\"},{\"key\":\"Promo\",\"value\":\"{{ output.Promo }}\"},{\"key\":\"BasicKnowledge\",\"value\":\"{{ output.BasicKnowledge }}\"},{\"key\":\"Troubleshooting\",\"value\":\"{{ output.Troubleshooting }}\"},{\"key\":\"Escalation\",\"value\":\"{{ output.Escalation }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.cek iccid }}\"},{\"key\":\"analisis_screenshoot\",\"value\":\"{{ output.analisis_screenshoot }}\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"timeMetadata\":{\"start\":1759458008437,\"end\":1759458011462,\"delta\":3025},\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"Escalation\":\"\",\"cek iccid\":0,\"analisis_screenshoot\":\"\"},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"}]},\"previousNodeIds\":[\"llmAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_0\",\"nodeLabel\":\"Condition Agent 0\",\"data\":{\"id\":\"conditionAgentAgentflow_0\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": esim saya ga bisa digunakan nih, \\\"scenarios\\\": [\\\"General        : Sapaan, Salam pembuka, Salam penutup\\\",\\\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\\\",\\\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\\\",\\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\",\\\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\\\",\\\"Promo  :Informasi promo dan penawaran khusus\\\",\\\"hasil analisis screenshoot\\\",\\\"\\\"], \\\"instruction\\\": Seputar sales, produk, promo, troubleshoting, basic knowladge, dan handover admin}\"}]},\"output\":{\"conditions\":[{\"output\":\"General        : Sapaan, Salam pembuka, Salam penutup\",\"isFulfilled\":false},{\"output\":\"Produk       : Rekomendasi produk, Detail paket, Order, nama negara\",\"isFulfilled\":false},{\"output\":\"BasicKnowledge : Cek APN, Cek kuota, Cek nomor, Aktivasi, Sisa Kuota\",\"isFulfilled\":false},{\"output\":\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\",\"isFulfilled\":true},{\"output\":\"Escalation     : Diluar layanan, Permintaan admin, Gagal solusi\",\"isFulfilled\":false},{\"output\":\"Promo  :Informasi promo dan penawaran khusus\",\"isFulfilled\":false},{\"output\":\"hasil analisis screenshoot\",\"isFulfilled\":false},{\"output\":\"\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"Troubleshooting: Identifikasi masalah, ada nomor iccid, Solusi teknis, Next step\\\"}\\n```\",\"timeMetadata\":{\"start\":1759458011471,\"end\":1759458012859,\"delta\":1388}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":\"{{ output.cek iccid }}\",\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_3\"],\"status\":\"FINISHED\"},{\"nodeId\":\"llmAgentflow_2\",\"nodeLabel\":\"Troubleshooting\",\"data\":{\"id\":\"llmAgentflow_2\",\"name\":\"llmAgentflow\",\"input\":{\"messages\":[{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"},{\"role\":\"user\",\"content\":\"Supervisor troubleshooting\\n==========================\\n\\nKlasifikasikan\\n\\n1.  jika customer memilik keluhan tentang esim dan simcard maka kamu masukan ke troubleshooting\\n    \\n\\n2.  jika customer sudah memberikan nomor iccid maka kamu estrak nomornya masukan ke cek iccid\\n    \\n3.  jika informasi dari cek iccid sudah ada maka kamu masukan ke troubleshooting\\n    \\n\\nTugas kamu hanya mengklasifikasikan tidak diperbolehkan untuk memberikan informasi lebih apalagi menjawab.\"}],\"llmModel\":\"chatOpenAI\",\"llmEnableMemory\":true,\"llmMemoryType\":\"allMessages\",\"llmUserMessage\":\"Supervisor troubleshooting\\n==========================\\n\\nKlasifikasikan\\n\\n1.  jika customer memilik keluhan tentang esim dan simcard maka kamu masukan ke troubleshooting\\n    \\n\\n2.  jika customer sudah memberikan nomor iccid maka kamu estrak nomornya masukan ke cek iccid\\n    \\n3.  jika informasi dari cek iccid sudah ada maka kamu masukan ke troubleshooting\\n    \\n\\nTugas kamu hanya mengklasifikasikan tidak diperbolehkan untuk memberikan informasi lebih apalagi menjawab.\",\"llmReturnResponseAs\":\"userMessage\",\"llmStructuredOutput\":[{\"key\":\"troubleshooting\",\"type\":\"string\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"keluhan customer tentang esim dan simcard yang tidak jalan dan tidak bisa di pake\"},{\"key\":\"iccid\",\"type\":\"number\",\"enumValues\":\"\",\"jsonSchema\":\"\",\"description\":\"Nomor ICCID hasil ekstraksi\"}],\"llmUpdateState\":[{\"key\":\"Troubleshooting\",\"value\":\"{{ output.troubleshooting }}\"},{\"key\":\"iccid\",\"value\":\"{{ output.iccid }}\"},{\"key\":\"\",\"value\":\"\"}],\"llmModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"500\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"llmModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"{\\n  \\\"troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"iccid\\\": 0\\n}\",\"timeMetadata\":{\"start\":1759458012874,\"end\":1759458014317,\"delta\":1443},\"troubleshooting\":\"esim saya ga bisa digunakan nih\",\"iccid\":0},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":0,\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\",\"\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"{\\n  \\\"troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"iccid\\\": 0\\n}\",\"name\":\"troubleshooting\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_0\"],\"status\":\"FINISHED\"},{\"nodeId\":\"conditionAgentAgentflow_1\",\"nodeLabel\":\"Codition Troubleshooting\",\"data\":{\"id\":\"conditionAgentAgentflow_1\",\"name\":\"conditionAgentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"<p>You are part of a multi-agent system designed to make agent coordination and execution easy. Your task is to analyze the given input and select one matching scenario from a provided set of scenarios.</p>\\n    <ul>\\n        <li><strong>Input</strong>: A string representing the user's query, message or data.</li>\\n        <li><strong>Scenarios</strong>: A list of predefined scenarios that relate to the input.</li>\\n        <li><strong>Instruction</strong>: Determine which of the provided scenarios is the best fit for the input.</li>\\n    </ul>\\n    <h2>Steps</h2>\\n    <ol>\\n        <li><strong>Read the input string</strong> and the list of scenarios.</li>\\n        <li><strong>Analyze the content of the input</strong> to identify its main topic or intention.</li>\\n        <li><strong>Compare the input with each scenario</strong>: Evaluate how well the input's topic or intention aligns with each of the provided scenarios and select the one that is the best fit.</li>\\n        <li><strong>Output the result</strong>: Return the selected scenario in the specified JSON format.</li>\\n    </ol>\\n    <h2>Output Format</h2>\\n    <p>Output should be a JSON object that names the selected scenario, like this: <code>{\\\"output\\\": \\\"<selected_scenario_name>\\\"}</code>. No explanation is needed.</p>\\n    <h2>Examples</h2>\\n    <ol>\\n       <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is not asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"What is AIGC?\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is asking about the weather\\\"], \\\"instruction\\\": \\\"Your task is to check and see if the user is asking a topic about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is asking about AI\\\"}</code></p>\\n        </li>\\n        <li>\\n            <p><strong>Input</strong>: <code>{\\\"input\\\": \\\"Can you explain deep learning?\\\", \\\"scenarios\\\": [\\\"user is interested in AI topics\\\", \\\"user wants to order food\\\"], \\\"instruction\\\": \\\"Determine if the user is interested in learning about AI.\\\"}</code></p>\\n            <p><strong>Output</strong>: <code>{\\\"output\\\": \\\"user is interested in AI topics\\\"}</code></p>\\n        </li>\\n    </ol>\\n    <h2>Note</h2>\\n    <ul>\\n        <li>Ensure that the input scenarios align well with potential user queries for accurate matching.</li>\\n        <li>DO NOT include anything other than the JSON in your response.</li>\\n    </ul>\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": \\\"Hello\\\", \\\"scenarios\\\": [\\\"user is asking about AI\\\", \\\"user is not asking about AI\\\"], \\\"instruction\\\": \\\"Your task is to check if the user is asking about AI.\\\"}\"},{\"role\":\"assistant\",\"content\":\"```json\\n{\\\"output\\\": \\\"user is not asking about AI\\\"}\\n```\"},{\"role\":\"user\",\"content\":\"{\\\"input\\\": esim saya ga bisa digunakan nih, \\\"scenarios\\\": [\\\"troubleshoting, kendala esim dan simcard informasi dari hasil cek iccid , data usage dan  kuota\\\",\\\"cek iccid . nomor iccid sudah ada  mengecek iccid yang diberikan oleh customer sebelum masuk ke troubleshooting\\\",\\\"next, mendapatkan informasi penggunaan data usage dan kuota\\\"], \\\"instruction\\\": }\"}]},\"output\":{\"conditions\":[{\"output\":\"troubleshoting, kendala esim dan simcard informasi dari hasil cek iccid , data usage dan  kuota\",\"isFulfilled\":true},{\"output\":\"cek iccid . nomor iccid sudah ada  mengecek iccid yang diberikan oleh customer sebelum masuk ke troubleshooting\",\"isFulfilled\":false},{\"output\":\"next, mendapatkan informasi penggunaan data usage dan kuota\",\"isFulfilled\":false}],\"content\":\"```json\\n{\\\"output\\\": \\\"troubleshoting, kendala esim dan simcard informasi dari hasil cek iccid , data usage dan  kuota\\\"}\\n```\",\"timeMetadata\":{\"start\":1759458014327,\"end\":1759458015398,\"delta\":1071}},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":0,\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\",\"\":\"\"},\"chatHistory\":[]},\"previousNodeIds\":[\"llmAgentflow_2\"],\"status\":\"FINISHED\"},{\"nodeId\":\"agentAgentflow_5\",\"nodeLabel\":\"Solution Troubleshooting\",\"data\":{\"id\":\"agentAgentflow_5\",\"name\":\"agentAgentflow\",\"input\":{\"messages\":[{\"role\":\"system\",\"content\":\"Customer Service troubleshooting\\n================================\\n\\nUtamakan menunjukan rasa empati. Jika customer mengalami masalah dan kendala pada eSIM atau SIM cardnya, langkah yang harus kamu ambil adalah.\\n\\n1\\\\. Identifikasi Produk: Produk apa yang tamu beli? dan tanyakan mengenai ICCID dan nomer pesanannya.\\n\\n2\\\\. Identifikasi masalah: Masalah apa yang dikeluhkan oleh tamu?\\n\\nGunakan document store sebagai sumber pengetahuan.\\n\\nSetelah customer memberikan informasi diatas dan sudah di cek dan ditemukan status ICCID active, berikan template troubleshooting basic dibawah ini, jangan berikan template ini sampai mendapatkan status ICCID active:\\n\\nApabila sim card/esim kakak belum terhubung, silahkan ikuti panduan di bawah:\\n\\n1\\\\. Mohon informasikan posisi kakak sekarang ada di negara apa?\\n\\n2\\\\. Apakah device mendapatkan signal? Provider apa yang terhubung saat ini?\\n\\n3\\\\. Pastikan DATA ROAMING ON.\\n\\n4\\\\. Dan pastikan eSIM sudah di setting sebagai mobile data.\\n\\n5\\\\. Sesuaikan APN dengan deskripsi sim card di marketplace (isi bagian cellular data, 4G LTE, dan\\n\\npersonal hotspot).\\n\\n6\\\\. Setelah pengaturan sesuai, restart device.\\n\\nJika esim atau SIM card masih belum bisa terhubung setelah melakukan langkah di atas, WAJIB minta customer untuk mengirim screenshot pengaturan data Roaming dan Pengaturan APN untuk di analisis\\n\\nJika masalahnya adalah eSim tidak bisa di-scan atau tidak bisa ter-install, pastikan device tersambung ke jaringan yang stabil atau wifi saat scan. Jika signal bar terdapat dua berarti esim sudah berhasil terinstall, cek di pengaturan selular atau pengaturan SIM. Jika sudah dicek signal bar hanya satu dan dipastikan eSim belum terinstall minta customer untuk memberi info nomor iccid untuk pengecekan lebih lanjut.\\n\\nCATATAN:\\n\\nJika customer belum mengirim screenshot, selalu ingatkan customer untuk segera mengirimkan screenshot agar tim kami dapat membantu pengecekan lebih lanjut.\\n\\nTanpa screenshot, proses pengecekan tidak dapat dilanjutkan.\\n\\nSelalu ikuti langkah-langkah yang sudah disebutkan.\\n\\nJangan pernah arahkan user untuk menghubungi pihak mana pun.\"},{\"role\":\"user\",\"content\":\"Customer menanyakan mengenai kesulitan, gangguan, kendala, dan hambatan dalam menggunakan produk Global Komunika.\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"hallo\"},{\"role\":\"assistant\",\"content\":\"Halo, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"tadi saya bilang apa ?\"},{\"role\":\"assistant\",\"content\":\"Maaf, saya tidak dapat memberikan ringkasan percakapan sebelumnya. Namun, jika ada yang ingin Anda tanyakan atau butuh bantuan dengan hal tertentu, silakan beri tahu saya. Saya siap membantu!\"},{\"role\":\"user\",\"content\":\"hallo saya andi\"},{\"role\":\"assistant\",\"content\":\"Halo Andi, terima kasih telah menghubungi Global Komunika. Apa yang bisa kami bantu hari ini?^^\"},{\"role\":\"user\",\"content\":\"esim saya ga bisa digunakan nih\"},{\"role\":\"user\",\"content\":\"Anda adalah Andi, dan saat ini Anda mengalami masalah dengan eSIM yang tidak bisa digunakan. Apa yang ingin Anda ketahui lebih lanjut atau ada informasi spesifik yang Anda butuhkan untuk menyelesaikan masalah ini?\",\"name\":\"memory_dan_ringkasan\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"General\\\": \\\"\\\",\\n  \\\"Produk\\\": \\\"\\\",\\n  \\\"Promo\\\": \\\"\\\",\\n  \\\"BasicKnowledge\\\": \\\"\\\",\\n  \\\"Troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"Escalation\\\": \\\"\\\",\\n  \\\"cek iccid\\\": 0,\\n  \\\"analisis_screenshoot\\\": \\\"\\\"\\n}\",\"name\":\"supervisor\"},{\"role\":\"user\",\"content\":\"{\\n  \\\"troubleshooting\\\": \\\"esim saya ga bisa digunakan nih\\\",\\n  \\\"iccid\\\": 0\\n}\",\"name\":\"troubleshooting\"}],\"agentModel\":\"chatOpenAI\",\"agentKnowledgeDocumentStores\":[{\"documentStore\":\"2c7fd6e8-2dec-4586-8bdb-2a0a7e566a8c:basic_knowladge\",\"docStoreDescription\":\"Berisi pengetahuan dasar mengenai penggunaan produk eSim, Sim card, dan asuransi perjalanan. Gunakan database ini jika customer memerlukan bantuan terkait cara dan tips penggunaan produk, cara emnghadapi kendala saat menggunakan produk, menanyakan pengiriman. Untuk pengiriman berikan detail jadwal pengiriman.\",\"returnSourceDocuments\":\"\"}],\"agentEnableMemory\":true,\"agentMemoryType\":\"allMessages\",\"agentReturnResponseAs\":\"userMessage\",\"agentModelConfig\":{\"cache\":\"\",\"modelName\":\"gpt-4o-mini\",\"temperature\":0.9,\"streaming\":true,\"maxTokens\":\"500\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"strictToolCalling\":\"\",\"stopSequence\":\"\",\"basepath\":\"\",\"proxyUrl\":\"\",\"baseOptions\":\"\",\"allowImageUploads\":\"\",\"imageResolution\":\"low\",\"reasoning\":\"\",\"reasoningEffort\":\"\",\"reasoningSummary\":\"\",\"agentModel\":\"chatOpenAI\",\"FLOWISE_CREDENTIAL_ID\":\"66bc11da-1c65-4f11-b005-9550ee37294b\"}},\"output\":{\"content\":\"Maaf mendengar bahwa eSIM Anda tidak bisa digunakan. Untuk membantu Anda lebih lanjut, bisa tolong berikan informasi berikut?\\n\\n1. Mohon informasikan nomor ICCID eSIM Anda dan nomor pesanan.\\n2. Apa masalah spesifik yang Anda alami? Apakah ada pesan kesalahan yang muncul?\\n\\nSetelah mendapatkan informasi tersebut, saya akan membantu mengecek status eSIM Anda. Terima kasih!\",\"timeMetadata\":{\"start\":1759458015866,\"end\":1759458019089,\"delta\":3223},\"calledTools\":[],\"usageMetadata\":{\"input_tokens\":909,\"output_tokens\":83,\"total_tokens\":992,\"input_token_details\":{\"audio\":0,\"cache_read\":0},\"output_token_details\":{\"audio\":0,\"reasoning\":0},\"tool_call_tokens\":0},\"responseMetadata\":{\"prompt\":0,\"completion\":0,\"usage\":{\"prompt_tokens\":909,\"completion_tokens\":83,\"total_tokens\":992,\"prompt_tokens_details\":{\"cached_tokens\":0,\"audio_tokens\":0},\"completion_tokens_details\":{\"reasoning_tokens\":0,\"audio_tokens\":0,\"accepted_prediction_tokens\":0,\"rejected_prediction_tokens\":0}},\"finish_reason\":\"stop\",\"system_fingerprint\":\"fp_560af6e559\",\"model_name\":\"gpt-4o-mini-2024-07-18\",\"service_tier\":\"default\"},\"availableTools\":[{\"name\":\"basic_knowladge\",\"description\":\"Berisi pengetahuan dasar mengenai penggunaan produk eSim, Sim card, dan asuransi perjalanan. Gunakan database ini jika customer memerlukan bantuan terkait cara dan tips penggunaan produk, cara emnghadapi kendala saat menggunakan produk, menanyakan pengiriman. Untuk pengiriman berikan detail jadwal pengiriman.\",\"schema\":{\"type\":\"object\",\"properties\":{\"input\":{\"type\":\"string\",\"description\":\"input to look up in retriever\"}},\"required\":[\"input\"],\"additionalProperties\":false},\"toolNode\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\"}}]},\"state\":{\"Escalation\":\"\",\"General\":\"\",\"Produk\":\"\",\"Promo\":\"\",\"BasicKnowledge\":\"\",\"Troubleshooting\":\"esim saya ga bisa digunakan nih\",\"next\":\"\",\"intructions\":\"\",\"iccid\":0,\"data_usage\":\"\",\"analisis_screenshoot\":\"\",\"scan\":\"\",\"\":\"\"},\"chatHistory\":[{\"role\":\"user\",\"content\":\"Maaf mendengar bahwa eSIM Anda tidak bisa digunakan. Untuk membantu Anda lebih lanjut, bisa tolong berikan informasi berikut?\\n\\n1. Mohon informasikan nomor ICCID eSIM Anda dan nomor pesanan.\\n2. Apa masalah spesifik yang Anda alami? Apakah ada pesan kesalahan yang muncul?\\n\\nSetelah mendapatkan informasi tersebut, saya akan membantu mengecek status eSIM Anda. Terima kasih!\",\"name\":\"solution_troubleshooting\"}]},\"previousNodeIds\":[\"conditionAgentAgentflow_1\"],\"status\":\"FINISHED\"}]",
          "state": "FINISHED",
          "agentflowId": "d7ebbe54-8ad0-46dc-a93d-c5736d6afb9a",
          "sessionId": "a320b067-4e9a-44f9-b1d9-19478c69f9b0",
          "action": null,
          "isPublic": null,
          "createdDate": "2025-10-03T02:20:06.000Z",
          "updatedDate": "2025-10-03T02:20:19.000Z",
          "stoppedDate": null,
          "workspaceId": "6fec7c22-3a79-4272-a01b-519a59a7b492"
        }
      }
    ]
ANDI@Muhammad-Andi MINGW64 ~